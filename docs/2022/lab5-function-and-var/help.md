# Lab5实验指导

事实上已经学习完[LLVM API使用手册](2022/llvm-doc.md)的你们应该已经不是很需要关于如何翻译的指导了，因此本文档仅说明本次实验可能遇到的问题

## 本次实验可能的难点
- 需重新设计符号表，由于原有符号表与LLVM相性并不好，于是需要同学们重新设计一个符号表，符号表中保存的应该是LLVMValueRef类型而不是之前我们自定义的类型
    - 你需要一边访问抽象语法树生成中间代码，一边保存信息到符号表中：比如你定义了一个局部变量（`int a = 1;`），你应该将这个局部变量（`LLVMValueRef`）保存到符号表中，等到使用时再取出来（不然的话你就找不到那个`LLVMValueRef`了）。
- 局部变量的翻译应当已经在[LLVM API使用手册](2022/llvm-doc.md)中学习过了，如不知道请去看文档中的**在基本块中创建并使用局部变量**部分
- 数组的存取方式比较特殊，需要GEP指令，请自行学习
- 请注意在构建符号表时函数参数与局部变量的相同与不同
    - 可以考虑将函数参数也作为一个特殊的局部变量去翻译
- 变量也会参与表达式的运算，请考虑自己对表达式的翻译方法是否可以兼容本次实验